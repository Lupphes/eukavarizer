/*
 * Test-specific configuration
 */

params {
    // Test data paths
    modules_testdata_base_path = 'https://raw.githubusercontent.com/nf-core/test-datasets/modules/data/'
    pipelines_testdata_base_path = 'https://raw.githubusercontent.com/nf-core/test-datasets/pipelines/'

    // Pipeline-specific test parameters
    outdir = "results"

    // Resource limits for CI testing
    max_cpus   = 2
    max_memory = '6.GB'
    max_time   = '6.h'

    // ENA parameters - set to null for tests that do not use BioDbCore
    library_strategy = null
    instrument_platform = null
    minimum_coverage = null
    maximum_coverage = null
    max_results = null
    assembly_quality = null
}

// Allow tests to use smaller resources
process {
    cpus = 1
    memory = '2.GB'
    time = '30.m'

    // Resource limits for Nextflow >= 24.04.0
    resourceLimits = [
        cpus: 2,
        memory: 6.GB,
        time: 6.h
    ]

    // Override process labels to use fewer resources for testing
    withLabel:process_low {
        cpus = 1
        memory = 2.GB
        time = 1.h
    }
    withLabel:process_medium {
        cpus = 2
        memory = 4.GB
        time = 2.h
    }
    withLabel:process_high {
        cpus = 2
        memory = 6.GB
        time = 4.h
    }
}
